@using GajaTrack.Application.DTOs.DailyRhythmMap

<g transform="translate(@X, @Y)">
    @{
        var totalSleepMinutes = Summary.NapsMinutes + Summary.NightSleepMinutes;
        var totalH = (int)(totalSleepMinutes / 60);
        var totalM = (int)(totalSleepMinutes % 60);
        
        var napsH = (int)(Summary.NapsMinutes / 60);
        var napsM = (int)(Summary.NapsMinutes % 60);
        
        var nightH = (int)(Summary.NightSleepMinutes / 60);
        var nightM = (int)(Summary.NightSleepMinutes % 60);
        
        const double Col2X = 140; // Shift second column to fit longer labels
    }
    
    <!-- Compact 2-column layout for 35px RowHeight -->
    <!-- Row 1 -->
    <text x="0" y="14" font-size="10" fill="#333" font-weight="600">Total Sleep: @(totalH)h@(totalM)m</text>
    <text x="@Col2X" y="14" font-size="10" fill="#555">Naps: @(napsH)h@(napsM)m</text>

    <!-- Row 2 -->
    <text x="0" y="26" font-size="10" fill="#333" font-weight="500"># Night Wakes: @Summary.NightWakingCount</text>
    <text x="@Col2X" y="26" font-size="10" fill="#555">Night sleep: @(nightH)h@(nightM)m</text>
</g>

@code {
    [Parameter] public DailyRhythmMapSummary Summary { get; set; } = default!;
    [Parameter] public double X { get; set; }
    [Parameter] public double Y { get; set; }
}
